## iLamage 1.0.0

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Platform](https://img.shields.io/badge/platform-macOS%20%7C%20Windows%20%7C%20Linux-lightgrey.svg)](https://github.com/LegnaOS/iLamage)
[![Electron](https://img.shields.io/badge/electron-22.3.27-blue.svg)](https://www.electronjs.org/)
[![Vue](https://img.shields.io/badge/vue-2.7.16-green.svg)](https://vuejs.org/)

> **Language**: [English](README_EN.md) | ç®€ä½“ä¸­æ–‡

**iLamage** æ˜¯ä¸€æ¬¾å¼ºå¤§çš„åŠ¨ç”»å›¾ç‰‡å’Œè§†é¢‘æ ¼å¼è½¬æ¢å·¥å…·ï¼ŒåŸºäº [iSparta](https://github.com/iSparta/iSparta) å¼€å‘ï¼Œéš¶å±äº **LegnaOS** é¡¹ç›®ã€‚

æ”¯æŒ APNGã€WebPã€GIFã€Lottieã€SVGAã€PAG ç­‰å¤šç§åŠ¨ç”»æ ¼å¼çš„ç›¸äº’è½¬æ¢ï¼Œå¹¶æ–°å¢è§†é¢‘æ ¼å¼æ”¯æŒï¼ˆMP4ã€MOVã€AVIã€FLV ç­‰ï¼‰ã€‚

### ğŸŒŸ ä¸ iSparta çš„åŒºåˆ«

iLamage åœ¨ iSparta çš„åŸºç¡€ä¸Šè¿›è¡Œäº†å¤§é‡ä¼˜åŒ–å’ŒåŠŸèƒ½æ‰©å±•ï¼š

- âœ… **æ–°å¢è§†é¢‘æ ¼å¼æ”¯æŒ**ï¼šæ”¯æŒ MP4ã€MOVã€AVIã€FLV ç­‰è§†é¢‘æ ¼å¼è½¬æ¢ä¸º GIF/APNG/WebP
- âœ… **æ–°å¢åŠ¨ç”»æ ¼å¼æ”¯æŒ**ï¼šæ”¯æŒ Lottieã€SVGAã€PAG æ ¼å¼çš„å¯¼å…¥å’Œè½¬æ¢
- âœ… **åºåˆ—å¸§å¯¼å‡º**ï¼šæ”¯æŒå¯¼å‡º PNG/JPG åºåˆ—å¸§
- âœ… **å†…ç½® FFmpeg ç®¡ç†**ï¼šè‡ªåŠ¨ä¸‹è½½å’Œç®¡ç† FFmpegï¼Œæ— éœ€æ‰‹åŠ¨å®‰è£…
- âœ… **WebAV åŠ é€Ÿ**ï¼šä½¿ç”¨ WebCodecs API åŠ é€Ÿè§†é¢‘è§£ç ï¼ˆChrome 94+ï¼‰
- âœ… **æ€§èƒ½ä¼˜åŒ–**ï¼šLottie æ¸²æŸ“é€Ÿåº¦æå‡ 3-5 å€ï¼ˆCanvas æ¸²æŸ“å™¨ï¼‰
- âœ… **ä¿®å¤å¤§é‡ Bug**ï¼šä¿®å¤ GIF/WebP è½¬æ¢ä¸­çš„å¸§ä¸¢å¤±ã€èƒŒæ™¯é”™è¯¯ç­‰é—®é¢˜

# ğŸ“¸ æˆªå›¾

<img src="https://raw.githubusercontent.com/iSparta/iSparta/master/public/screenshot/iSparta3.1.png" alt="screenshot" width="600">

# ğŸ“¥ ä¸‹è½½

iLamage æ”¯æŒ macOSã€Windows å’Œ Linux ç³»ç»Ÿã€‚

- **GitHub Releases**: [https://github.com/LegnaOS/iLamage/releases](https://github.com/LegnaOS/iLamage/releases)
- **åŸ iSparta å®˜ç½‘**: [http://isparta.github.io/](http://isparta.github.io/)

# ğŸŒ è¯­è¨€

iLamage æ”¯æŒä»¥ä¸‹è¯­è¨€ï¼š

- ç®€ä½“ä¸­æ–‡ï¼ˆSimplified Chineseï¼‰
- ç¹é«”ä¸­æ–‡ï¼ˆTraditional Chineseï¼‰
- English
- æ—¥æœ¬èªï¼ˆJapaneseï¼‰
- í•œêµ­ì–´ï¼ˆKoreanï¼‰
- Ğ ÑƒÑÑĞºĞ¸Ğ¹ï¼ˆRussianï¼‰
- FranÃ§aisï¼ˆFrenchï¼‰
- Deutschï¼ˆGermanï¼‰
- Italianoï¼ˆItalianï¼‰

# âœ¨ åŠŸèƒ½ç‰¹æ€§

## æ ¸å¿ƒåŠŸèƒ½ï¼ˆç»§æ‰¿è‡ª iSpartaï¼‰

- **PNGs â†’ APNG**
  å°†å¤šå¼  PNG åˆå¹¶æˆä¸€ä¸ª APNG åŠ¨å›¾ï¼Œå¯è®¾ç½®å¸§é¢‘ç‡ã€å¾ªç¯æ¬¡æ•°ç­‰å‚æ•°ã€‚è¦æ±‚ PNG åœ¨åŒä¸€ç›®å½•ä¸‹ï¼Œå¹¶ä¿æŒæ–‡ä»¶åæ ‡å‡†åŒ–ï¼ˆ`apng000001.png`, `apng000002.png`...ï¼‰

- **å•ç‹¬è®¾ç½®å¸§é¢‘**
  å¯ä»¥ç»™æ¯ä¸€å¸§å•ç‹¬è®¾ç½®å¸§é¢‘ï¼Œæ»¡è¶³ä¸ªæ€§åŒ–éœ€æ±‚

- **PNG/GIF â†’ WebP**
  å°† PNGã€GIF è½¬æ¢ä¸º WebP æ ¼å¼ï¼Œå¯è®¾ç½®æ— æŸã€å‹ç¼©æ¯”ç­‰å‚æ•°

- **APNG â†’ Animated WebP**
  å°† APNG åŠ¨å›¾è½¬æ¢ä¸º Animated WebP åŠ¨å›¾ï¼Œå¯è®¾ç½®å¾ªç¯æ¬¡æ•°ã€æ— æŸç­‰å‚æ•°

- **PNG/GIF æ— æŸå‹ç¼©**
  å°† PNG å’Œ GIF è¿›è¡Œæ— æŸå‹ç¼©ï¼Œå‡å°‘å›¾ç‰‡å¤§å°

## ğŸ†• æ–°å¢åŠŸèƒ½ï¼ˆiLamage ç‹¬æœ‰ï¼‰

### 1. è§†é¢‘æ ¼å¼æ”¯æŒ

- **è§†é¢‘ â†’ GIF/APNG/WebP**
  æ”¯æŒ MP4ã€MOVã€AVIã€FLVã€MKV ç­‰å¸¸è§è§†é¢‘æ ¼å¼è½¬æ¢ä¸ºåŠ¨ç”»å›¾ç‰‡

- **WebAV åŠ é€Ÿ**
  ä½¿ç”¨ WebCodecs API åŠ é€Ÿè§†é¢‘è§£ç ï¼ˆChrome 94+ï¼‰ï¼Œè½¬æ¢é€Ÿåº¦æå‡ 5-10 å€

- **FFmpeg å›é€€**
  WebAV è§£ç å¤±è´¥æ—¶è‡ªåŠ¨å›é€€åˆ° FFmpegï¼Œç¡®ä¿å…¼å®¹æ€§

### 2. åŠ¨ç”»æ ¼å¼æ”¯æŒ

- **Lottie â†’ GIF/APNG/WebP**
  æ”¯æŒ Lottie JSON åŠ¨ç”»è½¬æ¢ï¼Œä½¿ç”¨ Canvas æ¸²æŸ“å™¨ï¼ˆæ€§èƒ½æå‡ 3-5 å€ï¼‰

- **SVGA â†’ GIF/APNG/WebP**
  æ”¯æŒ SVGA åŠ¨ç”»æ ¼å¼è½¬æ¢

- **PAG â†’ GIF/APNG/WebP**
  æ”¯æŒè…¾è®¯ PAG åŠ¨ç”»æ ¼å¼è½¬æ¢ï¼ˆéœ€å®‰è£… PAGViewerï¼‰

### 3. åºåˆ—å¸§å¯¼å‡º

- **PNG åºåˆ—å¸§å¯¼å‡º**
  å°†åŠ¨ç”»å¯¼å‡ºä¸º PNG åºåˆ—å¸§ï¼ˆ`_frames_png` ç›®å½•ï¼‰

- **JPG åºåˆ—å¸§å¯¼å‡º**
  å°†åŠ¨ç”»å¯¼å‡ºä¸º JPG åºåˆ—å¸§ï¼ˆ`_frames_jpg` ç›®å½•ï¼‰ï¼Œä½¿ç”¨ FFmpeg æ‰¹é‡è½¬æ¢ï¼ˆæ€§èƒ½ä¼˜åŒ– 10 å€ï¼‰

### 4. å†…ç½®å·¥å…·ç®¡ç†

- **FFmpeg è‡ªåŠ¨ä¸‹è½½**
  è‡ªåŠ¨ä¸‹è½½å’Œå®‰è£… FFmpeg + ffprobeï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®

- **PAGViewer è‡ªåŠ¨ä¸‹è½½**
  è‡ªåŠ¨ä¸‹è½½å’Œå®‰è£… PAGViewerï¼Œæ”¯æŒç³»ç»Ÿç›®å½•å’Œç”¨æˆ·æ•°æ®ç›®å½•

- **å·¥å…·ç®¡ç†ç•Œé¢**
  å¯è§†åŒ–ç®¡ç†å†…ç½®å·¥å…·ï¼Œæ”¯æŒåˆ é™¤ã€é‡æ–°ä¸‹è½½ã€æ‰“å¼€å®‰è£…ç›®å½•

### 5. Bug ä¿®å¤å’Œä¼˜åŒ–

- **GIF â†’ APNG é—ªçƒä¿®å¤**
  ä¿®å¤ GIF è½¬ APNG æ—¶å› å¸§å°ºå¯¸ä¸ä¸€è‡´å¯¼è‡´çš„é—ªçƒé—®é¢˜

- **WebP â†’ GIF èƒŒæ™¯ä¸¢å¤±ä¿®å¤**
  ä¿®å¤ WebP è½¬ GIF æ—¶èƒŒæ™¯å…ƒç´ æ¶ˆå¤±çš„é—®é¢˜ï¼ˆdispose é€»è¾‘ä¼˜åŒ–ï¼‰

- **WEBP â†’ GIF åªè¾“å‡º 1 å¸§ä¿®å¤**
  ä¿®å¤ WebP è½¬ GIF æ—¶åªè¾“å‡ºç¬¬ä¸€å¸§çš„é—®é¢˜

- **å¸§ç¼–å·æ ‡å‡†åŒ–**
  ç»Ÿä¸€æ‰€æœ‰æ ¼å¼çš„å¸§ç¼–å·ä¸º 6 ä½æ•°å­—ï¼ˆ`%06d`ï¼‰

- **ä¸‹è½½ç®¡ç†ä¼˜åŒ–**
  æ”¯æŒå–æ¶ˆ/æš‚åœä¸‹è½½ï¼Œå–æ¶ˆæ—¶ä¸æ˜¾ç¤ºé”™è¯¯æç¤º


# ğŸ› ï¸ å¼€å‘

iLamage ä½¿ç”¨ [Electron](https://www.electronjs.org/) + [Vue.js](https://vuejs.org/) æ¡†æ¶å¼€å‘ï¼Œéœ€è¦å®‰è£… [Node.js](https://nodejs.org/)ã€‚

## ç¯å¢ƒè¦æ±‚

- **Node.js**: >= 14.0.0
- **npm**: >= 6.0.0
- **ç³»ç»Ÿ**: macOS / Windows / Linux

## å®‰è£…ä¾èµ–

### macOS

```bash
# å®‰è£… Node.jsï¼ˆä½¿ç”¨ Homebrewï¼‰
brew install node

# å…‹éš†é¡¹ç›®
git clone https://github.com/LegnaOS/iLamage.git
cd iLamage

# å®‰è£…ä¾èµ–
npm install
```

### Windows

```bash
# ä¸‹è½½å¹¶å®‰è£… Node.js
# https://nodejs.org/

# å…‹éš†é¡¹ç›®
git clone https://github.com/LegnaOS/iLamage.git
cd iLamage

# å®‰è£…ä¾èµ–
npm install
```

### Linux

```bash
# å®‰è£… Node.jsï¼ˆä½¿ç”¨åŒ…ç®¡ç†å™¨ï¼‰
sudo apt-get install nodejs npm

# å®‰è£… libpng16 ä¾èµ–
sudo apt-get install libpng16-dev

# å…‹éš†é¡¹ç›®
git clone https://github.com/LegnaOS/iLamage.git
cd iLamage

# å®‰è£…ä¾èµ–
npm install
```

## è¿è¡Œå¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

åº”ç”¨ä¼šåœ¨ `http://localhost:8080` å¯åŠ¨ï¼Œå¹¶è‡ªåŠ¨æ‰“å¼€ Electron çª—å£ã€‚

# ğŸ“¦ æ„å»ºæ‰“åŒ…

iLamage æ”¯æŒæ‰“åŒ…ä¸º macOSã€Windows å’Œ Linux å¹³å°çš„åº”ç”¨ã€‚

## æ‰“åŒ…å‘½ä»¤

```bash
# æ‰“åŒ…æ‰€æœ‰å¹³å°ï¼ˆmacOS + Windows + Linuxï¼‰
npm run build

# åªæ‰“åŒ… macOSï¼ˆéœ€è¦åœ¨ macOS ä¸Šè¿è¡Œï¼‰
npm run build:mac

# åªæ‰“åŒ… Windows
npm run build:windows

# åªæ‰“åŒ… Linux
npm run build:linux
```

## æ‰“åŒ…è¾“å‡º

æ‰“åŒ…å®Œæˆåï¼Œæ–‡ä»¶åœ¨ `dist_electron/` ç›®å½•ï¼š

```
dist_electron/
â”œâ”€â”€ mac/
â”‚   â””â”€â”€ iLamage-3.2.1.dmg          # macOS å®‰è£…åŒ…
â”œâ”€â”€ iLamage Setup 3.2.1.exe        # Windows å®‰è£…ç¨‹åº
â”œâ”€â”€ iLamage-3.2.1.zip              # Windows ç»¿è‰²ç‰ˆ
â””â”€â”€ linux/
    â””â”€â”€ iLamage-3.2.1.AppImage     # Linux å®‰è£…åŒ…
```

## åŠ é€Ÿæ‰“åŒ…ï¼ˆå›½å†…ç”¨æˆ·ï¼‰

```bash
# è®¾ç½® Electron é•œåƒ
export ELECTRON_MIRROR=https://npmmirror.com/mirrors/electron/

# æ‰§è¡Œæ‰“åŒ…
npm run build
```



# ğŸ—ºï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: [Electron](https://www.electronjs.org/) 22.3.27
- **å‰ç«¯**: [Vue.js](https://vuejs.org/) 2.7.16 + [Element UI](https://element.eleme.io/)
- **è§†é¢‘å¤„ç†**: [FFmpeg](https://ffmpeg.org/) + [WebAV](https://github.com/bilibili/WebAV)
- **åŠ¨ç”»æ¸²æŸ“**: [Lottie-web](https://github.com/airbnb/lottie-web) + [SVGA Player](https://github.com/svga/SVGAPlayer-Web)
- **å›¾ç‰‡å¤„ç†**: [pngjs](https://github.com/lukeapage/pngjs) + [AdmZip](https://github.com/cthackers/adm-zip)

# ğŸ“ æ›´æ–°æ—¥å¿—

## v1.0.0 (2025-01-01)

### æ–°å¢åŠŸèƒ½
- âœ… è§†é¢‘æ ¼å¼æ”¯æŒï¼ˆMP4ã€MOVã€AVIã€FLV ç­‰ï¼‰
- âœ… Lottieã€SVGAã€PAG åŠ¨ç”»æ ¼å¼æ”¯æŒ
- âœ… PNG/JPG åºåˆ—å¸§å¯¼å‡º
- âœ… FFmpeg è‡ªåŠ¨ä¸‹è½½å’Œç®¡ç†
- âœ… PAGViewer è‡ªåŠ¨ä¸‹è½½å’Œç®¡ç†
- âœ… WebAV åŠ é€Ÿè§†é¢‘è§£ç 

### æ€§èƒ½ä¼˜åŒ–
- âš¡ Lottie æ¸²æŸ“é€Ÿåº¦æå‡ 3-5 å€ï¼ˆCanvas æ¸²æŸ“å™¨ï¼‰
- âš¡ JPG åºåˆ—å¸§å¯¼å‡ºé€Ÿåº¦æå‡ 10 å€ï¼ˆFFmpeg æ‰¹é‡è½¬æ¢ï¼‰
- âš¡ WebAV è§†é¢‘è§£ç é€Ÿåº¦æå‡ 5-10 å€

### Bug ä¿®å¤
- ğŸ› ä¿®å¤ GIF â†’ APNG é—ªçƒé—®é¢˜
- ğŸ› ä¿®å¤ WebP â†’ GIF èƒŒæ™¯ä¸¢å¤±é—®é¢˜
- ğŸ› ä¿®å¤ WebP â†’ GIF åªè¾“å‡º 1 å¸§é—®é¢˜
- ğŸ› ä¿®å¤ Lottie â†’ WEBP è½¬æ¢é”™è¯¯
- ğŸ› ä¿®å¤å¸§ç¼–å·ä¸ä¸€è‡´é—®é¢˜
- ğŸ› ä¿®å¤ä¸‹è½½å–æ¶ˆæ—¶çš„é”™è¯¯æç¤º

# ğŸ“‹ To-Do List

- [ ] å¢åŠ çƒ­æ›´æ–°æ”¯æŒ
- [x] ~~å¢åŠ è§†é¢‘è½¬ APNG~~ âœ… å·²å®Œæˆ
- [ ] å¢åŠ æ‰¹é‡è½¬æ¢æ”¯æŒ
- [ ] å¢åŠ é¢„è§ˆåŠŸèƒ½ä¼˜åŒ–
- [ ] å¢åŠ æ›´å¤šè§†é¢‘æ ¼å¼æ”¯æŒ

# ğŸ‘¥ ä½œè€…

## iLamage ç»´æŠ¤è€…
- **LegnaOS** - [GitHub](https://github.com/LegnaOS)

## iSparta åŸä½œè€…
- [jeakey](https://github.com/jeakey)
- [ccJUN](https://github.com/ccJUN)
- [yikfun](https://github.com/yikfun)

## è´¡çŒ®è€…
- [DreamPiggy](https://github.com/dreampiggy)

# ğŸ™ è‡´è°¢

## å›¾ç‰‡å¤„ç†å·¥å…·
- [apngasm](http://apngasm.sourceforge.net/) - APNG ç»„è£…å·¥å…·
- [apngopt](https://sourceforge.net/projects/apng/files/APNG_Optimizer/) - APNG ä¼˜åŒ–å·¥å…·
- [apng2webp](https://github.com/Benny-/apng2webp) - APNG è½¬ WebP å·¥å…·
- [pngout](http://advsys.net/ken/utils.htm) - PNG ä¼˜åŒ–å·¥å…·
- [pngquant](https://pngquant.org/) - PNG å‹ç¼©å·¥å…·
- [webp](https://developers.google.com/speed/webp/) - WebP ç¼–è§£ç åº“

## è§†é¢‘å’ŒåŠ¨ç”»å·¥å…·
- [FFmpeg](https://ffmpeg.org/) - è§†é¢‘å¤„ç†å·¥å…·
- [WebAV](https://github.com/bilibili/WebAV) - Web è§†é¢‘å¤„ç†åº“
- [Lottie-web](https://github.com/airbnb/lottie-web) - Lottie åŠ¨ç”»æ¸²æŸ“åº“
- [SVGA Player](https://github.com/svga/SVGAPlayer-Web) - SVGA åŠ¨ç”»æ’­æ”¾å™¨
- [PAG](https://pag.io/) - è…¾è®¯ PAG åŠ¨ç”»æ¡†æ¶

## å¼€æºé¡¹ç›®
- [iSparta](https://github.com/iSparta/iSparta) - åŸå§‹é¡¹ç›®
- [Electron](https://www.electronjs.org/) - è·¨å¹³å°æ¡Œé¢åº”ç”¨æ¡†æ¶
- [Vue.js](https://vuejs.org/) - æ¸è¿›å¼ JavaScript æ¡†æ¶

# ğŸ“„ è®¸å¯è¯

MIT License

Copyright (c) 2025 LegnaOS

åŸºäº [iSparta](https://github.com/iSparta/iSparta) é¡¹ç›®å¼€å‘ã€‚

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼**
